<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Pelabelan Otomatis (Dengan Bobot Kata)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body class="bg-light">
  <div class="container py-5">
    <h1 class="text-center mb-4">Analisis Sentimen Berbasis Leksikon (Dengan Bobot)</h1>
    <div class="card shadow">
      <div class="card-body">
        <form method="POST">
          <div class="mb-3">
            <label for="text" class="form-label">Masukkan Teks:</label>
            <textarea class="form-control" id="text" name="text" rows="5" placeholder="Contoh: Layanan ini sangat baik dan efisien, tapi terlambat dikirim." required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Analisis</button>
        </form>

        {% if result %}
        <hr class="my-4" />
        <h5>Hasil Analisis:</h5>
        <ul class="list-group">
          <li class="list-group-item"><strong>Teks:</strong> "{{ result.text }}"</li>
          <li class="list-group-item"><strong>Skor Sentimen:</strong> {{ result.score }}</li>
          <li class="list-group-item">
            <strong>Label:</strong>
            <span class="badge bg-{{ 'success' if result.label == 'positif' else 'danger' if result.label == 'negatif' else 'secondary' }}">
              {{ result.label|title }}
            </span>
          </li>
          {% if result.matches %}
          <li class="list-group-item">
            <strong>Kata Kunci Terdeteksi:</strong>
            <ul class="mt-2">
              {% for word, weight, count in result.matches %}
              <li>'{{ word }}' (bobot: {{ weight }}, jumlah: {{ count }})</li>
              {% endfor %}
            </ul>
          </li>
          {% else %}
          <li class="list-group-item"><em>Tidak ada kata dari leksikon yang ditemukan.</em></li>
          {% endif %}
        </ul>
        {% endif %}
      </div>
    </div>
  </div>
</body>
</html>